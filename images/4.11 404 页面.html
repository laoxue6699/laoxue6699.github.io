<p>现在访问一个不存在的地址，如：<code>http://localhost:3000/haha</code> 页面会显示：</p>
<pre><code>Cannot GET /haha</code></pre><p>我们来自定义 404 页面。修改 routes/index.js，在：</p>
<p><strong>routes/index.js</strong></p>
<pre><code class="js">app.use(<span class="string">'/comments'</span>, <span class="built_in">require</span>(<span class="string">'./comments'</span>))</code></pre>
<p>下添加如下代码：</p>
<pre><code class="js"><span class="comment">// 404 page</span>
app.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{
  <span class="keyword">if</span> (!res.headersSent) {
    res.status(<span class="number">404</span>).render(<span class="string">'404'</span>)
  }
})</code></pre>
<p>新建 views/404.ejs，添加如下代码：</p>
<p><strong>views/404.ejs</strong></p>
<pre><code class="ejs">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;&lt;%= blog.title %&gt;&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.qq.com/404/search_children.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>这里我们只为了演示 express 中处理 404 的情况，用了腾讯公益的 404 页面，刷新一下页面看下效果吧。</p>
<p>上一节：<a href="https://github.com/nswbmw/N-blog/blob/master/book/4.10%20%E7%95%99%E8%A8%80.md">4.10 留言</a></p>
<p>下一节：<a href="https://github.com/nswbmw/N-blog/blob/master/book/4.12%20%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2.md">4.12 错误页面</a></p>
